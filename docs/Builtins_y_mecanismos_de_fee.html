<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Builtins y Mecanismos de Fee ğŸš§ - L2 Book</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="IntroducciÃ³n.html"><strong aria-hidden="true">1.</strong> IntroducciÃ³n Parte 1</a></li><li class="chapter-item "><a href="Bases_CriptogrÃ¡ficas.html"><strong aria-hidden="true">2.</strong> Bases CriptogrÃ¡ficas</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="CriptografÃ­a_SimÃ©trica.html"><strong aria-hidden="true">2.1.</strong> CriptografÃ­a SimÃ©trica</a></li><li class="chapter-item "><a href="CriptografÃ­a_AsimÃ©trica.html"><strong aria-hidden="true">2.2.</strong> CriptografÃ­a AsimÃ©trica</a></li><li class="chapter-item "><a href="CriptografÃ­a_HÃ­bridas.html"><strong aria-hidden="true">2.3.</strong> CriptografÃ­a HÃ­bridas</a></li><li class="chapter-item "><a href="Firmas_Digitales.html"><strong aria-hidden="true">2.4.</strong> Firmas Digitales</a></li><li class="chapter-item "><a href="Generador_de_Claves.html"><strong aria-hidden="true">2.5.</strong> Generador de Claves</a></li><li class="chapter-item "><a href="Funciones_Hash.html"><strong aria-hidden="true">2.6.</strong> Funciones Hash</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Merkle_Tree_en_Blockchain.html"><strong aria-hidden="true">2.6.1.</strong> Merkle Tree en Blockchain</a></li><li class="chapter-item "><a href="Patricia_Merkle_Trie.html"><strong aria-hidden="true">2.6.2.</strong> Patricia Merkle Trie</a></li><li class="chapter-item "><a href="Sha256.html"><strong aria-hidden="true">2.6.3.</strong> SHA-256</a></li><li class="chapter-item "><a href="Keccak.html"><strong aria-hidden="true">2.6.4.</strong> Keccak - El nuevo SHA-3</a></li></ol></li><li class="chapter-item "><a href="Quantum_Secure.html"><strong aria-hidden="true">2.7.</strong> Quantum Secure</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Grover.html"><strong aria-hidden="true">2.7.1.</strong> Grover</a></li><li class="chapter-item "><a href="Shor.html"><strong aria-hidden="true">2.7.2.</strong> Shor</a></li><li class="chapter-item "><a href="Lattice.html"><strong aria-hidden="true">2.7.3.</strong> Lattice</a></li><li class="chapter-item "><a href="Kyber_Crystal.html"><strong aria-hidden="true">2.7.4.</strong> Kyber Crystal</a></li><li class="chapter-item "><a href="EOA_AA.html"><strong aria-hidden="true">2.7.5.</strong> EOA y AA - Firmantes</a></li></ol></li><li class="chapter-item "><a href="Starknet_AA.html"><strong aria-hidden="true">2.8.</strong> Starknet AA</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Stark_Curve.html"><strong aria-hidden="true">2.8.1.</strong> EC en Cairo - STARK Curve</a></li><li class="chapter-item "><a href="Secp256r1.html"><strong aria-hidden="true">2.8.2.</strong> MyBraavos Secp256r1</a></li><li class="chapter-item "><a href="Stark_Key.html"><strong aria-hidden="true">2.8.3.</strong> CreaciÃ³n de una Stark Key en StarkEx</a></li></ol></li><li class="chapter-item "><a href="Starknet_funciones_hash.html"><strong aria-hidden="true">2.9.</strong> Starknet y Funciones Hash</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Keccak_Starknet.html"><strong aria-hidden="true">2.9.1.</strong> Hash Keccak</a></li><li class="chapter-item "><a href="Pedersen_Starknet.html"><strong aria-hidden="true">2.9.2.</strong> Hash Pedersen</a></li><li class="chapter-item "><a href="Poseidon_Starknet.html"><strong aria-hidden="true">2.9.3.</strong> Hash Poseidon</a></li><li class="chapter-item "><a href="Hashing_Array.html"><strong aria-hidden="true">2.9.4.</strong> Hashing de Array</a></li></ol></li><li class="chapter-item "><a href="Starks.html"><strong aria-hidden="true">2.10.</strong> S-T-ARKs</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Starks_Propiedades.html"><strong aria-hidden="true">2.10.1.</strong> Propiedades de las STARKs</a></li><li class="chapter-item "><a href="Starks_Eficientes.html"><strong aria-hidden="true">2.10.2.</strong> STARKs eficientes</a></li><li class="chapter-item "><a href="Starks_Iops.html"><strong aria-hidden="true">2.10.3.</strong> IOPs</a></li><li class="chapter-item "><a href="Starks_Polinomios.html"><strong aria-hidden="true">2.10.4.</strong> Polinomios</a></li></ol></li><li class="chapter-item "><a href="Starks_Creacion.html"><strong aria-hidden="true">2.11.</strong> CreaciÃ³n de un STARK</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Starks_Aritmetizacion.html"><strong aria-hidden="true">2.11.1.</strong> AritmetizaciÃ³n</a></li><li class="chapter-item "><a href="Starks_Traza.html"><strong aria-hidden="true">2.11.2.</strong> Polinomio y ComposiciÃ³n para nuestra Traza</a></li><li class="chapter-item "><a href="Starks_Bajo.html"><strong aria-hidden="true">2.11.3.</strong> Pruebas de Bajo Grado</a></li><li class="chapter-item "><a href="Starks_Fri.html"><strong aria-hidden="true">2.11.4.</strong> FRI</a></li></ol></li><li class="chapter-item "><a href="Cairo.html"><strong aria-hidden="true">2.12.</strong> Leve introducciÃ³n a Cairo (AIR)</a></li><li class="chapter-item "><a href="ConclusiÃ³n.html"><strong aria-hidden="true">2.13.</strong> Conclusiones</a></li></ol></li><li class="chapter-item "><a href="IntroducciÃ³n2.html"><strong aria-hidden="true">3.</strong> IntroducciÃ³n Parte 2 ğŸš§</a></li><li class="chapter-item expanded "><a href="Arquitectura_Starknet.html"><strong aria-hidden="true">4.</strong> Arquitectura Starknet y Cairo ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Componentes.html"><strong aria-hidden="true">4.1.</strong> Componentes ğŸš§</a></li><li class="chapter-item "><a href="Secuenciadores.html"><strong aria-hidden="true">4.2.</strong> Secuenciadores ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Secuenciadores_Rust.html"><strong aria-hidden="true">4.2.1.</strong> Secuenciadores Basados en RustğŸš§</a></li><li class="chapter-item "><a href="Madara_Base.html"><strong aria-hidden="true">4.2.2.</strong> Madara - Bases de su arquitectura ğŸš§</a></li><li class="chapter-item "><a href="Kraken.html"><strong aria-hidden="true">4.2.3.</strong> Kraken - Secuencenciador descentralizadoğŸš§</a></li></ol></li><li class="chapter-item "><a href="Fullnode.html"><strong aria-hidden="true">4.3.</strong> Full Nodes - Starknet Stack ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Pathfinder.html"><strong aria-hidden="true">4.3.1.</strong> Pathfinder ğŸš§</a></li><li class="chapter-item "><a href="Juno.html"><strong aria-hidden="true">4.3.2.</strong> Juno ğŸš§</a></li><li class="chapter-item "><a href="Deoxys.html"><strong aria-hidden="true">4.3.3.</strong> Deoxys ğŸš§</a></li><li class="chapter-item "><a href="Papyrus.html"><strong aria-hidden="true">4.3.4.</strong> Papyrus ğŸš§</a></li></ol></li><li class="chapter-item "><a href="SHARP.html"><strong aria-hidden="true">4.4.</strong> SHARP ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="SHARP_Recursividad.html"><strong aria-hidden="true">4.4.1.</strong> Recursividad - SHARP ğŸš§</a></li><li class="chapter-item "><a href="SHARP_Componentes.html"><strong aria-hidden="true">4.4.2.</strong> Componentes - SHARP ğŸš§</a></li><li class="chapter-item "><a href="Playground.html"><strong aria-hidden="true">4.4.3.</strong> Playground ğŸš§</a></li><li class="chapter-item "><a href="Cairo_Verifier_Rust.html"><strong aria-hidden="true">4.4.4.</strong> Cairo Verifier - Rust ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Quantum_Leap.html"><strong aria-hidden="true">4.5.</strong> Quantum Leap ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Versiones.html"><strong aria-hidden="true">4.5.1.</strong> Versiones ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Starknet_Stack.html"><strong aria-hidden="true">4.6.</strong> Starknet Stack ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Appchain_Paradex.html"><strong aria-hidden="true">4.6.1.</strong> AppChain Paradex - Starknet Stack ğŸš§</a></li><li class="chapter-item "><a href="Lambda_Stack.html"><strong aria-hidden="true">4.6.2.</strong> Lambda Starknet Stack ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Watcher_Prover.html"><strong aria-hidden="true">4.6.2.1.</strong> Watcher-Prover ğŸš§</a></li></ol></li></ol></li><li class="chapter-item "><a href="DA.html"><strong aria-hidden="true">4.7.</strong> Data Avalability ğŸš§</a></li><li class="chapter-item "><a href="EVM_zkEVM.html"><strong aria-hidden="true">4.8.</strong> EVM vs zkEVM ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Kakarot_Base.html"><strong aria-hidden="true">4.8.1.</strong> Kakarot - Bases de su arquitectura ğŸš§</a></li></ol></li><li class="chapter-item expanded "><a href="VM_Cairo.html"><strong aria-hidden="true">4.9.</strong> VM de Cairo ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Builtins_y_mecanismos_de_fee.html" class="active"><strong aria-hidden="true">4.9.1.</strong> Builtins y Mecanismos de Fee ğŸš§</a></li><li class="chapter-item "><a href="Sierra.html"><strong aria-hidden="true">4.9.2.</strong> Sierra - IR ğŸš§</a></li><li class="chapter-item "><a href="Cairo_Native.html"><strong aria-hidden="true">4.9.3.</strong> Cairo Native - MLIR ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Storage_Proof.html"><strong aria-hidden="true">4.10.</strong> Herodotus - Storage Proof ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Arquitectura_Herodotus.html"><strong aria-hidden="true">4.10.1.</strong> Arquitectura Herodotus ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Commitments_Inbox.html"><strong aria-hidden="true">4.10.1.1.</strong> Commitments Inbox ğŸš§</a></li><li class="chapter-item "><a href="Headers_Store.md.html"><strong aria-hidden="true">4.10.1.2.</strong> Headers Store ğŸš§</a></li><li class="chapter-item "><a href="Facts_Registry.html"><strong aria-hidden="true">4.10.1.3.</strong> Facts Registry ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Herodotus_Turbo.html"><strong aria-hidden="true">4.10.2.</strong> Herodotus Turbo ğŸš§</a></li><li class="chapter-item "><a href="Casos_de_uso.html"><strong aria-hidden="true">4.10.3.</strong> Casos de Usos ğŸš§</a></li><li class="chapter-item "><a href="Ejemplos_Storage_Proof.html"><strong aria-hidden="true">4.10.4.</strong> Ejemplos Storage Proof ğŸš§</a></li><li class="chapter-item "><a href="Proyectos_Storage_Proof.html"><strong aria-hidden="true">4.10.5.</strong> Proyectos SHH y Hackaton ğŸš§</a></li><li class="chapter-item "><a href="Merkle_Mountain_Ranges.html"><strong aria-hidden="true">4.10.6.</strong> Merkle Mountain Ranges en Cairo ğŸš§</a></li><li class="chapter-item "><a href="Storage_Proof_Oracle.html"><strong aria-hidden="true">4.10.7.</strong> Storage Proof Vs Oracle ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Estado_Oracle_Starknet.html"><strong aria-hidden="true">4.10.7.1.</strong> Estado de Oracles en Starknet ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Pragma.html"><strong aria-hidden="true">4.10.7.1.1.</strong> Pragma - Bases ğŸš§</a></li><li class="chapter-item "><a href="Chainlink.html"><strong aria-hidden="true">4.10.7.1.2.</strong> Chainlink - Bases ğŸš§</a></li><li class="chapter-item "><a href="Redstone.html"><strong aria-hidden="true">4.10.7.1.3.</strong> Redstone - Bases ğŸš§</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="Exploradores_de_bloques.html"><strong aria-hidden="true">4.11.</strong> Exploradores de Bloques ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Starkscan.html"><strong aria-hidden="true">4.11.1.</strong> Starkscan ğŸš§</a></li><li class="chapter-item "><a href="Voyager.html"><strong aria-hidden="true">4.11.2.</strong> Voyager ğŸš§</a></li><li class="chapter-item "><a href="Madara_Explorer.html"><strong aria-hidden="true">4.11.3.</strong> Madara ğŸš§</a></li><li class="chapter-item "><a href="Elixir.html"><strong aria-hidden="true">4.11.4.</strong> Elixir ğŸš§</a></li><li class="chapter-item "><a href="View_Block.html"><strong aria-hidden="true">4.11.5.</strong> View Block ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Arquitectura_Cairo.html"><strong aria-hidden="true">4.12.</strong> Cairo - Arquitectura ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Sintaxis_Basica.html"><strong aria-hidden="true">4.12.1.</strong> SintÃ¡xis BÃ¡sica ğŸš§</a></li><li class="chapter-item "><a href="Cairov2.html"><strong aria-hidden="true">4.12.2.</strong> Cairo v2 - Nueva versiÃ³n del Compilador ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Node_Guardians.html"><strong aria-hidden="true">4.13.</strong> Node Guardians - Cairo Educacional ğŸš§</a></li></ol></li><li class="chapter-item "><a href="IntroducciÃ³n3.html"><strong aria-hidden="true">5.</strong> IntroducciÃ³n Parte 3 ğŸš§</a></li><li class="chapter-item "><a href="Otras_Arquitecturas.html"><strong aria-hidden="true">6.</strong> Otras Arquitecturas ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Lambda_en_Starknet.html"><strong aria-hidden="true">6.1.</strong> Lambda en Starknet ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Starknet_en_Rust.html"><strong aria-hidden="true">6.1.1.</strong> Starknet en Rust ğŸš§</a></li><li class="chapter-item "><a href="Lambda_Prover_Platinum.html"><strong aria-hidden="true">6.1.2.</strong> Lambda Prover - Platinum ğŸš§</a></li><li class="chapter-item "><a href="Lambda_Sequencer.html"><strong aria-hidden="true">6.1.3.</strong> Lambda Sequencer ğŸš§</a></li><li class="chapter-item "><a href="Lambda_Work.html"><strong aria-hidden="true">6.1.4.</strong> LambdaWorks ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Madara.html"><strong aria-hidden="true">6.2.</strong> Madara ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Madara_Fusionando_Fuerzas.html"><strong aria-hidden="true">6.2.1.</strong> Madara - Fusionando Fuerzas ğŸš§</a></li><li class="chapter-item "><a href="Sharingan.html"><strong aria-hidden="true">6.2.2.</strong> Sharingan ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Otros_Secuenciadores.html"><strong aria-hidden="true">6.3.</strong> Otros Secuenciadores ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Secuenciador_Katana.html"><strong aria-hidden="true">6.3.1.</strong> Katana ğŸš§</a></li><li class="chapter-item "><a href="Secuenciador_Radius.html"><strong aria-hidden="true">6.3.2.</strong> Radius ğŸš§</a></li><li class="chapter-item "><a href="Secuenciador_Kraken.html"><strong aria-hidden="true">6.3.3.</strong> Kraken ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Otros_Prover.html"><strong aria-hidden="true">6.4.</strong> Otros Prover ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Sandstorm.html"><strong aria-hidden="true">6.4.1.</strong> Sandstorm ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Kakarot.html"><strong aria-hidden="true">6.5.</strong> Kakarot ğŸš§</a></li><li class="chapter-item "><a href="Dojo.html"><strong aria-hidden="true">6.6.</strong> Dojo ğŸš§</a></li><li class="chapter-item "><a href="Giza.html"><strong aria-hidden="true">6.7.</strong> Giza ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Orion.html"><strong aria-hidden="true">6.7.1.</strong> Orion ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Cartridge.html"><strong aria-hidden="true">6.8.</strong> Cartridge ğŸš§</a></li><li class="chapter-item "><a href="Visara.html"><strong aria-hidden="true">6.9.</strong> Vistara ğŸš§</a></li><li class="chapter-item "><a href="Servicios_API.html"><strong aria-hidden="true">6.10.</strong> Servicios API ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Infura.html"><strong aria-hidden="true">6.10.1.</strong> Infura ğŸš§</a></li><li class="chapter-item "><a href="Alchemy.html"><strong aria-hidden="true">6.10.2.</strong> Alchemy ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Indexer.html"><strong aria-hidden="true">6.11.</strong> Indexer ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Checkpoint.html"><strong aria-hidden="true">6.11.1.</strong> Checkpoint ğŸš§</a></li><li class="chapter-item "><a href="Apibara.html"><strong aria-hidden="true">6.11.2.</strong> Apibara ğŸš§</a></li><li class="chapter-item "><a href="Tokenflow.html"><strong aria-hidden="true">6.11.3.</strong> TokenFlow ğŸš§</a></li><li class="chapter-item "><a href="Torii.html"><strong aria-hidden="true">6.11.4.</strong> Torii ğŸš§</a></li></ol></li><li class="chapter-item "><a href="dApp_ecosistema.html"><strong aria-hidden="true">6.12.</strong> Dapp - Ecosistema ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Avnu.html"><strong aria-hidden="true">6.12.1.</strong> Avnu ğŸš§</a></li></ol></li><li class="chapter-item "><a href="Recursos.html"><strong aria-hidden="true">6.13.</strong> Recursos ğŸš§</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Cairo_by_example.html"><strong aria-hidden="true">6.13.1.</strong> Cairo by Example ğŸš§</a></li><li class="chapter-item "><a href="Challegues.html"><strong aria-hidden="true">6.13.2.</strong> Challengues ğŸš§</a></li><li class="chapter-item "><a href="Cairo_Book.html"><strong aria-hidden="true">6.13.3.</strong> Cairo book ğŸš§</a></li><li class="chapter-item "><a href="Starknet_Book.html"><strong aria-hidden="true">6.13.4.</strong> Starknet book ğŸš§</a></li><li class="chapter-item "><a href="Starkli.html"><strong aria-hidden="true">6.13.5.</strong> Starkli ğŸš§</a></li><li class="chapter-item "><a href="Scarb.html"><strong aria-hidden="true">6.13.6.</strong> Scarb ğŸš§</a></li><li class="chapter-item "><a href="Wizard.html"><strong aria-hidden="true">6.13.7.</strong> OZ - Wizard ğŸš§</a></li><li class="chapter-item "><a href="Remix_Starknet.html"><strong aria-hidden="true">6.13.8.</strong> Remix - Starknet ğŸš§</a></li><li class="chapter-item "><a href="Starknet_js.html"><strong aria-hidden="true">6.13.9.</strong> Starknet.js ğŸš§</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">L2 Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="builtins-y-mecanismos-de-fee"><a class="header" href="#builtins-y-mecanismos-de-fee">Builtins y Mecanismos de Fee</a></h1>
<p>En esta secciÃ³n, revisaremos el mecanismo de tarifas de Starknet Alpha. Si desea omitir la motivaciÃ³n y profundizar en el mecanismo.</p>
<p>Los usuarios pueden especificar la mÃ¡xima tarifa que estÃ¡n dispuestos a pagar por una transacciÃ³n a travÃ©s del campo <code>max_fee</code>.</p>
<p>La Ãºnica limitaciÃ³n en el secuenciador (impuesta por Starknet OS) es que la tarifa real cobrada estÃ¡ acotada por <code>max_fee</code>, pero por ahora, StarkWareâ€™s secuenciador solo cobrarÃ¡ la tarifa requerida para cubrir el costo de la prueba (potencialmente menos que la tarifa mÃ¡xima).</p>
<p>Actualmente, el secuenciador solo tiene en cuenta los costos de L1 relacionados con la presentaciÃ³n de la prueba. Hay dos componentes que afectan el rastro de L1 de una transacciÃ³n:</p>
<ol>
<li>
<p><strong>Complejidad computacional</strong>: cuanto mÃ¡s pesada sea la transacciÃ³n, mayor serÃ¡ su parte en el costo de verificaciÃ³n de la prueba.</p>
</li>
<li>
<p><strong>Datos en cadena</strong>: costo de datos de L1 originados por la disponibilidad de datos y mensajes de L2 â†’ L1.</p>
</li>
</ol>
<p>Las unidades de tarif estÃ¡n denominadas en <strong>ETH</strong>, <em>(esto puede cambiar en versiones futuras)</em>. Cada transacciÃ³n estÃ¡ asociada con una estimaciÃ³n de gas, y al combinar esto con el precio del gas, se obtiene la tarifa estimada.</p>
<h2 id="descripciÃ³n-general-de-alto-nivel"><a class="header" href="#descripciÃ³n-general-de-alto-nivel">DescripciÃ³n general de alto nivel</a></h2>
<p>Analicemos la mÃ©trica correcta para medir la complejidad de una transacciÃ³n. Para simplificar, ignoraremos las funciones incorporadas de Cairo con fines de explicaciÃ³n, y luego veremos cÃ³mo abordarlas.</p>
<h3 id="sin-builtins-incorporados"><a class="header" href="#sin-builtins-incorporados">Sin builtins incorporados</a></h3>
<p>Recordemos que la ejecuciÃ³n de un programa Cairo produce una traza de ejecuciÃ³n. Al probar un bloque de Starknet, agregamos todas las transacciones que aparecen en ese bloque a la traza de ejecuciÃ³n.</p>
<p>El Prover de Starknet genera pruebas para trazas de ejecuciÃ³n, con una longitud mÃ¡xima <strong><code>L</code></strong>, derivada de las especificaciones de la mÃ¡quina de pruebas y la latencia de la prueba deseada.</p>
<p>Es sencillo hacer un seguimiento de la longitud de la traza de ejecuciÃ³n asociada con cada transacciÃ³n. Cada operaciÃ³n sobre field elements <em>(como verificar la suma/multiplicaciÃ³n sobre el field)</em> requiere el mismo nÃºmero constante de celdas de traza (trace cells). </p>
<p>Cuando mencionamos <strong>sin builtin incorporados</strong> nos referimos a un escenario en el que todas las operaciones en el programa Cairo son operaciones bÃ¡sicas y no implican el uso de funciones mÃ¡s complejas, como las que encontramos <strong>con builtin incorporados</strong>. En esta situaciÃ³n, la ejecuciÃ³n de una operaciÃ³n simple, como una suma, requerirÃ¡ menos celdas de traza que una operaciÃ³n mÃ¡s compleja como la funciÃ³n Pedersen. Es evidente que la funciÃ³n Pedersen ocuparÃ¡ mÃ¡s celdas de traza debido a su naturaleza mÃ¡s compleja en comparaciÃ³n con una simple suma.</p>
<h3 id="con-builtins-incorporados"><a class="header" href="#con-builtins-incorporados">Con builtins incorporados</a></h3>
<p>La traza de ejecuciÃ³n de Cairo estÃ¡ separada, y cada builtin incorporado tiene su propia ranura. Debemos tener en cuenta esta asignaciÃ³n de ranura al determinar la tarifa.</p>
<p>Repasemos primero un ejemplo concreto. Imagina que la traza de ejecuciÃ³n tiene una capacidad mÃ¡xima que ocuparÃ¡ el Prover:</p>
<ul>
<li>500.000.000 pasos de Cairo</li>
<li>20.000.000 hashes de Pedersen</li>
<li>4.000.000 verificaciones de firma</li>
<li>10.000.000 comprobaciones de rango</li>
</ul>
<p>La prueba se cerrarÃ¡ y se enviarÃ¡ a L1 cuando cualquiera de estos componentes se llene. </p>
<blockquote>
<p>Es importante darse cuenta de que la divisiÃ³n en funciones incorporadas debe estar predeterminada. No podemos decidir sobre la marcha tener una prueba con <strong>20.000.001 Pedersen</strong>.</p>
</blockquote>
<p>Supongamos, por ejemplo, que una transacciÃ³n utiliza <strong>10.000 pasos de Cairo</strong> y <strong>500 hashes de Pedersen</strong>. Podemos acomodar como mÃ¡ximo <strong>40.000 transacciones</strong> de este tipo en nuestro rastro hipotÃ©tico <strong>(20.000.000/500)</strong>. Por lo tanto, la tarifa de la transacciÃ³n se relaciona con <strong>1/40.000</strong> del costo de enviar la prueba.</p>
<p>Es importante notar que el nÃºmero de pasos de Cairo no es el factor limitante en esta estimaciÃ³n del rendimiento de la transacciÃ³n <em>(ya que <strong>500,000,000/10,000 &gt; 20,000,000/500</strong>)</em>. Con este ejemplo en mente, ahora podemos formular la tarifa exacta asociada con el cÃ³mputo de L2.</p>
<h3 id="caso-general"><a class="header" href="#caso-general">Caso general</a></h3>
<p>Para cada transacciÃ³n, el secuenciador calcula un vector <code>CairoResourceUsage</code> que contiene:</p>
<ul>
<li>NÃºmero de pasos de Cairo</li>
<li>NÃºmero de aplicaciones de cada funciÃ³n incorporada de Cairo (por ejemplo, cinco comprobaciones de rango y dos hashes de Pedersen)</li>
</ul>
<p>El secuenciador cruza esta informaciÃ³n con el vector <code>CairoResourceFeeWeights</code>. Para cada tipo de recurso (paso o una aplicaciÃ³n especÃ­fica de funciÃ³n incorporada), <code>CairoResourceFeeWeights</code> tiene una entrada que especifica el costo de gas relativo de ese componente en la prueba.</p>
<p>Volviendo al ejemplo anterior, si el costo de enviar una prueba con <strong>20.000.000 hashes de Pedersen</strong> es aproximadamente <strong>5m</strong> de gas, entonces el nÃºmero de pasos de la funciÃ³n incorporada de Pedersen es <strong>0.2 gas</strong> por aplicaciÃ³n (<strong>5,000,000/20,000,000</strong>). El secuenciador tiene un vector de pasos predefinidos, de acuerdo con los parÃ¡metros de la prueba.</p>
<p>El secuenciador cobrarÃ¡ solo segÃºn el factor limitante. Por lo tanto, la tarifa estÃ¡ correlacionada con:</p>
<p><img src="./assets//Fee.png" alt="graph" /></p>
<div align="center">
<em></em>
</div>
<p>Donde <code>k</code> enumera los componentes de recursos de Cairo, es decir, el nÃºmero de pasos y funciones incorporadas utilizados.</p>
<p>Los pasos son:</p>
<ul>
<li><strong>Paso de Cairo:</strong> 0.01 gas/paso</li>
<li><strong>Pedersen:</strong> 0.32 gas/aplicaciÃ³n</li>
<li><strong>Poseidon:</strong> 0.32 gas/aplicaciÃ³n</li>
<li><strong>ComprobaciÃ³n de rango:</strong> 0.16 gas/aplicaciÃ³n</li>
<li><strong>ECDSA:</strong> 20.48 gas/aplicaciÃ³n</li>
<li><strong>Bitwise:</strong> 0.64 gas/aplicaciÃ³n</li>
<li><strong>EC_OP:</strong> 10.24 gas/aplicaciÃ³n</li>
</ul>
<h2 id="datos-on-chain"><a class="header" href="#datos-on-chain">Datos On-Chain</a></h2>
<p>Los datos en cadena asociados con una transacciÃ³n estÃ¡n compuestos por tres partes:</p>
<ul>
<li>Actualizaciones de Storage.</li>
<li>Mensajes L2 â†’ L1.</li>
<li>Contratos implementados.</li>
</ul>
<h3 id="actualizaciones-de-storage"><a class="header" href="#actualizaciones-de-storage">Actualizaciones de Storage</a></h3>
<p>Cuando una transacciÃ³n actualiza una clave en el almacenamiento de algÃºn contrato, los siguientes datos llegan a L1:</p>
<ul>
<li>Contract_address</li>
<li>NÃºmero de claves actualizadas en ese contrato</li>
<li>Clave para actualizar</li>
<li>Nuevo valor</li>
</ul>
<blockquote>
<p>Nota: Solo el valor mÃ¡s reciente llega a L1. Es decir, la tarifa de la transacciÃ³n solo depende del nÃºmero de actualizaciones de storage Ãºnicas (si la misma celda de storage se actualiza varias veces dentro de la transacciÃ³n, la tarifa sigue siendo la de una Ãºnica actualizaciÃ³n).</p>
</blockquote>
<p>La tarifa de actualizaciÃ³n de storage asociada para una transacciÃ³n que actualiza <code>n</code> contratos Ãºnicos y <code>m</code> claves Ãºnicas es:</p>
<p><img src="./assets//Fee1.png" alt="graph" /></p>
<div align="center">
<em></em>
</div>
<p>Donde <code>cw</code> es el costo de <code>calldata</code> (en gas) por palabra de 32 bytes.</p>
<blockquote>
<p>Nota: Hay muchas posibles mejoras a la estimaciÃ³n pesimista anterior que se presentarÃ¡n gradualmente en futuras versiones de Starknet. Por ejemplo, si diferentes transacciones dentro del mismo bloque actualizan la misma celda de almacenamiento, no es necesario cobrar ambas (solo el valor mÃ¡s reciente llega a L1). En el futuro, Starknet podrÃ­a incluir un mecanismo de reembolso para tales casos.</p>
</blockquote>
<h3 id="mensajes-l2--l1"><a class="header" href="#mensajes-l2--l1">Mensajes L2 â†’ L1</a></h3>
<p>Cuando se realiza una transacciÃ³n que invoca la llamada del sistema <code>send_message_to_l1</code> y se incluye en una actualizaciÃ³n de estado, los siguientes datos llegan a la capa L1 (capa de destino):</p>
<ol>
<li>
<p><strong>L2 sender address:</strong> Es la direcciÃ³n del remitente en la capa L2, es la direcciÃ³n de la entidad o contrato en la capa 2 que iniciÃ³ la transacciÃ³n o enviÃ³ el mensaje.</p>
</li>
<li>
<p><strong>L1 destination address:</strong> Es la direcciÃ³n de destino en la capa L1. Esta direcciÃ³n indica el contrato o entidad en la capa 1 que recibirÃ¡ el mensaje enviado desde la capa 2.</p>
</li>
<li>
<p><strong>Payload size:</strong> Es el tamaÃ±o del contenido Ãºtil o informaciÃ³n que se envÃ­a en el mensaje. Representa la cantidad de datos que se transmiten desde la capa 2 a la capa 1.</p>
</li>
<li>
<p><strong>Payload <em>(lista de field element)</em>:</strong> Es la lista de elementos o datos que constituyen el contenido Ãºtil o payload del mensaje enviado desde la capa 2 a la capa 1.</p>
</li>
</ol>
<p>En cuanto a la tarifa asociada con un solo mensaje de la capa L2 a la capa L1, se calcula utilizando la siguiente fÃ³rmula:</p>
<p><img src="./assets//Fee2.png" alt="graph" /></p>
<div align="center">
<em></em>
</div>
<p>Donde:</p>
<ul>
<li><code>gas_price</code> es el precio del gas (unidad de costo) establecido en la transacciÃ³n.</li>
<li><code>cw</code> es el costo de calldata (datos de llamada) en gas por palabra de 32 bytes.</li>
<li><code>payload_size</code> es el tamaÃ±o del contenido Ãºtil o payload del mensaje en bytes.</li>
</ul>
<p>Esta fÃ³rmula te permite determinar el costo total de enviar un mensaje desde la capa L2 a la capa L1, tomando en cuenta el precio del gas, el costo de calldata y el tamaÃ±o del contenido enviado.</p>
<h3 id="contratos-implementados"><a class="header" href="#contratos-implementados">Contratos implementados</a></h3>
<p>Cuando una transacciÃ³n que eleva la llamada del sistema <code>deploy</code> se incluye en una actualizaciÃ³n de estado, los siguientes datos llegan a L1:</p>
<ul>
<li><strong>DirecciÃ³n del contrato.</strong></li>
<li><strong>Class Hash.</strong></li>
</ul>
<p>La tarifa asociada con una implementaciÃ³n Ãºnica es:</p>
<p><img src="./assets//Fee3.png" alt="graph" /></p>
<div align="center">
<em></em>
</div>
<p>Donde <code>cw</code> es el costo de calldata (en gas) por palabra de 32 bytes.</p>
<h2 id="tarifa-total"><a class="header" href="#tarifa-total">Tarifa total</a></h2>
<p>La tarifa para una transacciÃ³n con:</p>
<ul>
<li>La utilizaciÃ³n de Cairo se representa mediante el vector <code>v</code>, donde las entradas de <code>v</code> corresponden al nÃºmero de pasos y al nÃºmero de aplicaciones por builtin incorporado.</li>
<li><code>n</code> actualizaciones de contratos Ãºnicos</li>
<li><code>m</code> actualizaciones de claves Ãºnicas</li>
<li><code>t</code> mensajes con tamaÃ±os de carga <code>q1,...,qt</code></li>
<li><code>â„“</code> implementaciones de contratos</li>
</ul>
<p>EstÃ¡ dada por:</p>
<p><img src="./assets//Fee4.png" alt="graph" /></p>
<div align="center">
<em></em>
</div>
<p>Donde <code>w</code> es el vector de pasos discutido anteriormente y <code>cw</code> es el costo de calldata (en gas) por palabra de 32 bytes.</p>
<p>La tarifa se cobra atÃ³micamente durante la ejecuciÃ³n de la transacciÃ³n en L2. El SO de Starknet realiza una transferencia del ERC-20 asociado con la tarifa, con una cantidad igual a la tarifa pagada, utilizando al remitente de la transacciÃ³n como emisor y al secuenciador como receptor.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="VM_Cairo.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="Sierra.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="VM_Cairo.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="Sierra.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
